{
  "id": "2984efd6-c09b-4cd8-b50b-d82f32f57c6c",
  "title": "MBA Vault Module Directory Patterns Analysis",
  "details": "## MBA Vault Directory Structure Analysis - COMPLETED\n\n### Course Organization:\n- **Strategic Leadership and Management**\n  - Leading Teams Developing As A Leader\n  - Managing Organization\n  - Strategic Management\n    - strategy-business: `01_course-orientation`, `02_module-1-leading-strategically`, `03_module-2-external-analysis`, etc.\n    - corporate-strategy: Same numbered pattern\n\n- **Value Chain Management**\n  - Marketing Management\n    - marketing-management: `01_course-orientation`, `02_module-1-the-marketing-process`, etc.\n  - Operations Management: `01_operations-mgmt-course-orientation`, `02_inventory-management`, etc.\n  - Managerial Accounting Business Decisions\n    - accounting-for-managers: `01_course-overview-and-introduction-to-managerial-accounting`, `02_costing-systems-i-elements-and-design`, etc.\n\n- **Managerial Economics and Business Analysis**\n  - Money and Banking: **Manual pattern** - `Module 1 - Money and Finance`, `Module 2 - Modern Banking`, etc. (user confirmed can be renamed)\n  - Microeconomics for Business: Descriptive names - `firm-level-economics`, `firm-level-economics-markets`\n  - Statistics Management Decision Making: Descriptive names - `business-data`, `business-statistics`, `gies-stats`\n\n- **Electives**\n  - gies-fundamentals: Numbered pattern - `01_welcome-to-the-online-programs-fundamental-skills-course`, `02_excel-fundamentals`, etc.\n\n### Key Patterns Identified:\n1. **Numbered Module Pattern (Most Common)**: `{NN}_{module-description}` where NN is 01, 02, 03, etc.\n2. **Manual Module Pattern**: `Module {N} - {description}` where N is 1, 2, 3, etc.\n3. **Descriptive Only Pattern**: Just descriptive names without numbers (less common)\n\n### Implementation Status - PARTIALLY COMPLETE:\n✅ **Pattern Recognition**: Added regex support for \"Module N -\" pattern\n✅ **Basic Extraction**: `ExtractModuleNumber` method enhanced for all discovered patterns\n✅ **Test Coverage**: New tests for vault-discovered patterns\n❌ **Content File Logic**: Still failing 7/41 tests - lesson numbers being returned instead of module numbers\n\n### Remaining Issue:\nContent files in nested structures like `01_module/02_lesson/video.mp4` are getting `module: \"02\"` instead of `module: \"01\"` because `ExtractModuleNumberFromParentDirectories` returns the first number found (lesson) rather than continuing to find the module directory.\n\n### Next Steps:\n1. Fix the parent directory traversal to prioritize module directories\n2. Use existing helper methods `FindModuleDirectory` and `FindLessonDirectory` for smarter detection\n3. Ensure all content files get number-only module values from the correct parent directory\n\n### Content File Distribution:\n- Content files (.md) are typically nested several levels deep within lesson/content directories\n- Module numbers should be extracted from the first parent directory that matches a module pattern\n- Content files should get number-only module values (e.g., \"1\", \"2\", \"01\", \"02\")\n\n### Extraction Priority Working:\n1. ✅ Look for numbered prefixes: `01_`, `02_`, etc.\n2. ✅ Look for \"Module N -\" patterns  \n3. ✅ Look for \"module-N\" patterns\n4. ✅ Fall back to descriptive matching if needed",
  "category": "vault_analysis",
  "dateCreated": "2025-06-10T19:03:53.944Z",
  "dateUpdated": "2025-06-10T19:13:21.796Z"
}