{
  "id": "c92fb635-cd83-4879-85f6-c84a405662c8",
  "title": "Obsidian Index Query Issue - Missing Type Field",
  "details": "## Issue Analysis: Obsidian Class Index Queries\n\n**Problem**: Readings, Instructions, and Case Studies show 0 results in Obsidian index pages, only Videos display correctly.\n\n**Root Cause**: Missing or incorrect `type` field in frontmatter metadata that Obsidian queries depend on.\n\n**User's Obsidian Query Example (Readings)**:\n```\nTABLE type, course, class, status \nFROM \"01_Projects\" \nWHERE type = \"note/reading\" AND course = this.course AND class = this.class\n```\n\n**Analysis**:\n1. **Videos work** because they have `type: note/video-note` (set by `EnsureVideoReferenceFields()`)\n2. **Case Studies fail** because they may have `type: note/case-study` but aren't being detected properly \n3. **Readings fail** because they need `type: note/reading` (only set if template-type is \"resource-reading\")\n4. **Instructions fail** because they need appropriate type field\n\n**Code Logic in MetadataEnsureProcessor**:\n- `DetermineTemplateType()` only sets \"resource-reading\" for files ending with \"-instructions.md\"\n- PDF files get \"pdf-reference\" → `type: note/case-study`\n- Video files get \"video-reference\" → `type: note/video-note`  \n- Resource reading files get \"resource-reading\" → `type: note/reading`\n- Default files get no template-type → no specific type field\n\n**Required Type Values for Obsidian Queries**:\n- Videos: `type: note/video-note` ✓ (working)\n- Readings: `type: note/reading` ✗ (missing)\n- Instructions: `type: note/instruction` ✗ (missing)\n- Case Studies: `type: note/case-study` ✗ (inconsistent)\n\n**Solution**: Enhance `DetermineTemplateType()` method to better detect content types based on directory structure and filename patterns.",
  "category": "troubleshooting",
  "dateCreated": "2025-06-10T05:10:09.153Z",
  "dateUpdated": "2025-06-10T05:10:09.153Z"
}